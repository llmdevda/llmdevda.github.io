---
title: "梯度训练，信息熵与巫术占卜"
date: 2025-06-05
categories: ["实战", "教程"]
tags: [llm, grpo, openr1]
---

《概率空间，梯度训练，与巫术占卜》
q和1-q
想象一个远古部落在丛林中，部落以打猎为生，这里气候非常突变，如果在打猎过程中遇到突降的暴雨，轻则颗粒无收，重则损失人员。
于是，部落里有个萨满负责占卜天气，如果天晴则部落集体外出打猎，如果下雨则留在部落不外出。
萨满每天早上作出占卜，q的概率为天晴，1-q的概率为下雨。



部落人根据萨满预测是否准确来给萨满奖励食物ri。一段时间下来，萨满就得到总奖励ri求和

萨满为了得到更多食物，就得尽可能占卜正确

随后根据是否下雨，调整概率q的值

比如如果今天下雨了，那么把q调小一点。

如果今天是天晴，那么把q调大一点。

萨满用这方法预测，虽然不是很准，但也大致符合了现实。

但萨满发现每天都去调整概率太麻烦了，因为需要去削占卜的木块。

于是萨满决定一周去削一次（batch或者梯度累积）

有一天，天生异象

这天不仅下雨而且还出太阳，在部落下雨，在丛林就出太阳。

于是，萨满无论怎么预测都是正确的

那么这时？萨满怎么去调整概率最好呢？